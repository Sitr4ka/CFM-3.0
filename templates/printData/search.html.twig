{% extends 'base.html.twig' %}

{% block stylesheets %}
	<style>
		.find {
    		background-color: rgba(255, 255, 255, .075);
    		border-left: 3px solid #3b7ddd;
		}

		.income {
			max-height: 300px;
			overflow: auto;		
		}
		.expenses {
			max-height: 300px;
			overflow: auto;		
		}
	</style>	
{% endblock %}

{% block title %}
	{{ parent() }} | search
{% endblock %}

{% block main %}
{# Formulaire de recherche #}
	{{ form_start(search_Form) }}
	<div class='container'>
		<div class='row'>
			<div class='col-3'>
				<div class='row mt-4'>
					<div>
						{{ form_row(search_Form.keyword) }}
					</div>
					<div>
						{{ form_row(search_Form.type) }}
					</div>
					<div>
						{{ form_row(search_Form.startDate) }}
					</div>
					<div>
						{{ form_row(search_Form.endDate) }}
					</div>
					<div class='col-6'>
						{{ form_row(search_Form.search) }}
					</div>           
					<a href="{{path('app_search_finances_report')}}" class="col-5 btn btn-danger">
						<i class="lni lni-download pe-3"></i>
						<span>Print</span>
					</a>
					
				</div>      
			</div>

			<div class='col-9'>
				{# Affichage des r√©sultats#}
				<div class='container-fluid mt-3'>
					<div class="row ms-5">
						<div class="income rounded-4 bg-light border-2 mt-4 me-2 mb-2">
							<h5 class='mt-3 ms-3'>Incomes</h5>
							<table class="table table-borderless mt-2 table-light table-hover ">
								<thead>
									<tr class='row'>
										<th class='col ps-5'>Date</th>
										<th class='col'>Motif</th>
										<th class='col'>Amount</th>
									</tr>
								</thead>
								<tbody>
									{% for income in incomes %}
										<tr class='row'>
											<td class='col ps-5'>{{income.executedAt|date('d-m-Y')}}</td>
											<td class='col'>{{income.motif}}</td>
											<td class='col'>{{income.amount}}</td>
										</tr>
									{% endfor %}
										<tr class='row'>
											<td class='col ps-5'>Total</td>
											<td class='col'></td>
											<td class='col'>{{totalIncomes}}</td>
										</tr>
								</tbody>
							</table>
						</div>
					</div>
					{# New Row #}
					<div class="row ms-5">
						<div class="expenses rounded-4 bg-light border-2 me-2 mb-2">
						<h5 class='mt-3 ms-3'>Expenses</h5>
							<table class="table table-borderless mt-2 table-light table-hover ">
								<thead>
									<tr class='row'>
										<th class='col ps-5'>Date</th>
										<th class='col'>Motif</th>
										<th class='col'>Amount</th>
									</tr>
								</thead>
								<tbody>
									{% for outcome in outcomes %}
										<tr class='row'>
											<td class='col ps-5'>{{outcome.executedAt|date('d-m-Y')}}</td>
											<td class='col'>{{outcome.motif}}</td>
											<td class='col'>{{outcome.amount}}</td>
										</tr>
									{% endfor %}
										<tr class='row'>
											<td class='col ps-5'>Total</td>
											<td class='col'></td>
											<td class='col'>{{totalOutcomes}}</td>
										</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	{{ form_end(search_Form) }}
{% endblock %}
